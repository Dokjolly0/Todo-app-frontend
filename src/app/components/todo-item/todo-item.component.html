<div class="todo-item" #todoItem>
  <div class="header">
    <h3>{{ todo.title }}</h3>
  </div>
  <div class="info">
    <!-- Creation date -->
    <p>
      <strong>Creation date:</strong>
      {{ todo.creationDate }}
    </p>
    <!-- Due date -->
    <p *ngIf="todo.dueDate">
      <strong>Due Date:</strong>
      {{ todo.dueDate }}
    </p>
    <p *ngIf="!todo.dueDate">
      <strong>Due Date:</strong>
      Nessuna data di scadenza
    </p>
    <!-- Expired -->
    <p *ngIf="todo.expired">
      <strong>Expired:</strong>
      Scaduto
    </p>
    <p *ngIf="!todo.expired">
      <strong>Expired:</strong>
      Non scaduto
    </p>
    <!-- Completed -->
    <p class="completed">
      <strong>Completed:</strong>
      <input
        type="checkbox"
        [checked]="todo.completed"
        class="completed-checkbox"
        id="completed"
        (change)="onToggleComplete()"
      />
      <br />
    </p>
    <p>
      <!-- CreatedBy -->
      <strong>Created By:</strong>
      <!-- Aggiungi uno spazio qui -->
      <app-user-avatar [user]="todo.createdBy!" [size]="30"></app-user-avatar>
      <span class="assigned-name">
        {{ todo.createdBy?.fullName }}
        <!-- Se è l'utente attivo aggiungi (me) -->
        <ng-container *ngIf="user.id === todo.createdBy!.id">(me)</ng-container>
      </span>
    </p>
    <p>
      <!-- AssignedTo -->
      <strong>Assigned To:</strong>
      <!-- Aggiungi uno spazio qui -->
      <ng-container *ngIf="todo.assignedTo; else noAssignment">
        <app-user-avatar [user]="todo.assignedTo" [size]="30"></app-user-avatar>
        <span class="assigned-name">
          {{ todo.assignedTo.fullName }}
          <!-- Se è l'utente attivo aggiungi (me) -->
          <ng-container *ngIf="user.id === todo.assignedTo?.id">(me)</ng-container>
        </span>
        <!-- Aggiungi una classe se serve -->
      </ng-container>
      <ng-template #noAssignment>
        <span>todo non assegnato</span>
      </ng-template>
    </p>
  </div>
  <div class="actions">
    <button (click)="onEdit()">Edit</button>
    <button (click)="onDelete()">Delete</button>
  </div>
</div>
